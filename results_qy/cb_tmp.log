HOST: g4005
CP_FILE_NAME: small
HOST: g4005
CUDA_VISIBLE_DEVICES: 
GPU_NUM: 8
PROC_NUM: 8
NNODES: 1
NTASK_PER_NODE: 8
MASTER_ADDR: g3021
+++ which mpirun
++ dirname /home/zhaijidong/yhy/.local/openmpi-cuda-ucx-gdrcopy/bin/mpirun
+ mpirun --prefix /home/zhaijidong/yhy/.local/openmpi-cuda-ucx-gdrcopy/bin/../ -x MASTER_ADDR -x MASTER_PORT -x PATH -x LD_LIBRARY_PATH -x NCCL_DEBUG -x NCCL_NET_GDR_LEVEL -x NCCL_DEBUG_SUBSYS -x NCCL_IB_DISABLE -np 16 --host g3021:8,g3022:8 --map-by ppr:4:numa --bind-to core --report-bindings python conflict_bench.py --backend NCCL --config ./scripts/configs/small_16.json
[g3021:347254] MCW rank 4 bound to socket 1[core 32[hwt 0-1]]: [../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..][BB/../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..]
[g3021:347254] MCW rank 5 bound to socket 1[core 33[hwt 0-1]]: [../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..][../BB/../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..]
[g3021:347254] MCW rank 6 bound to socket 1[core 34[hwt 0-1]]: [../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..][../../BB/../../../../../../../../../../../../../../../../../../../../../../../../../../../../..]
[g3021:347254] MCW rank 7 bound to socket 1[core 35[hwt 0-1]]: [../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..][../../../BB/../../../../../../../../../../../../../../../../../../../../../../../../../../../..]
[g3021:347254] MCW rank 0 bound to socket 0[core 0[hwt 0-1]]: [BB/../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..][../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..]
[g3021:347254] MCW rank 1 bound to socket 0[core 1[hwt 0-1]]: [../BB/../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..][../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..]
[g3021:347254] MCW rank 2 bound to socket 0[core 2[hwt 0-1]]: [../../BB/../../../../../../../../../../../../../../../../../../../../../../../../../../../../..][../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..]
[g3021:347254] MCW rank 3 bound to socket 0[core 3[hwt 0-1]]: [../../../BB/../../../../../../../../../../../../../../../../../../../../../../../../../../../..][../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..]
[g3022:3708510] MCW rank 13 bound to socket 1[core 33[hwt 0-1]]: [../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..][../BB/../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..]
[g3022:3708510] MCW rank 14 bound to socket 1[core 34[hwt 0-1]]: [../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..][../../BB/../../../../../../../../../../../../../../../../../../../../../../../../../../../../..]
[g3022:3708510] MCW rank 15 bound to socket 1[core 35[hwt 0-1]]: [../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..][../../../BB/../../../../../../../../../../../../../../../../../../../../../../../../../../../..]
[g3022:3708510] MCW rank 8 bound to socket 0[core 0[hwt 0-1]]: [BB/../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..][../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..]
[g3022:3708510] MCW rank 9 bound to socket 0[core 1[hwt 0-1]]: [../BB/../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..][../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..]
[g3022:3708510] MCW rank 10 bound to socket 0[core 2[hwt 0-1]]: [../../BB/../../../../../../../../../../../../../../../../../../../../../../../../../../../../..][../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..]
[g3022:3708510] MCW rank 11 bound to socket 0[core 3[hwt 0-1]]: [../../../BB/../../../../../../../../../../../../../../../../../../../../../../../../../../../..][../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..]
[g3022:3708510] MCW rank 12 bound to socket 1[core 32[hwt 0-1]]: [../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..][BB/../../../../../../../../../../../../../../../../../../../../../../../../../../../../../../..]
proc_info: {'clustername': 'Unknown Cluster', 'hostname': 'g3022', 'nodename': None, 'nodeid': None, 'world_size': 16, 'tasks_per_node': 8, 'rank': 11, 'local_rank': 3, 'hostip': '10.3.5.2', 'ip': None}
proc_info: {'clustername': 'Unknown Cluster', 'hostname': 'g3022', 'nodename': None, 'nodeid': None, 'world_size': 16, 'tasks_per_node': 8, 'rank': 12, 'local_rank': 4, 'hostip': '10.3.5.2', 'ip': None}
proc_info: {'clustername': 'Unknown Cluster', 'hostname': 'g3022', 'nodename': None, 'nodeid': None, 'world_size': 16, 'tasks_per_node': 8, 'rank': 13, 'local_rank': 5, 'hostip': '10.3.5.2', 'ip': None}
proc_info: {'clustername': 'Unknown Cluster', 'hostname': 'g3022', 'nodename': None, 'nodeid': None, 'world_size': 16, 'tasks_per_node': 8, 'rank': 14, 'local_rank': 6, 'hostip': '10.3.5.2', 'ip': None}
proc_info: {'clustername': 'Unknown Cluster', 'hostname': 'g3021', 'nodename': None, 'nodeid': None, 'world_size': 16, 'tasks_per_node': 8, 'rank': 4, 'local_rank': 4, 'hostip': '10.3.5.1', 'ip': None}
proc_info: {'clustername': 'Unknown Cluster', 'hostname': 'g3022', 'nodename': None, 'nodeid': None, 'world_size': 16, 'tasks_per_node': 8, 'rank': 15, 'local_rank': 7, 'hostip': '10.3.5.2', 'ip': None}
proc_info: {'clustername': 'Unknown Cluster', 'hostname': 'g3022', 'nodename': None, 'nodeid': None, 'world_size': 16, 'tasks_per_node': 8, 'rank': 8, 'local_rank': 0, 'hostip': '10.3.5.2', 'ip': None}
proc_info: {'clustername': 'Unknown Cluster', 'hostname': 'g3022', 'nodename': None, 'nodeid': None, 'world_size': 16, 'tasks_per_node': 8, 'rank': 9, 'local_rank': 1, 'hostip': '10.3.5.2', 'ip': None}
proc_info: {'clustername': 'Unknown Cluster', 'hostname': 'g3021', 'nodename': None, 'nodeid': None, 'world_size': 16, 'tasks_per_node': 8, 'rank': 5, 'local_rank': 5, 'hostip': '10.3.5.1', 'ip': None}
proc_info: {'clustername': 'Unknown Cluster', 'hostname': 'g3021', 'nodename': None, 'nodeid': None, 'world_size': 16, 'tasks_per_node': 8, 'rank': 7, 'local_rank': 7, 'hostip': '10.3.5.1', 'ip': None}
proc_info: {'clustername': 'Unknown Cluster', 'hostname': 'g3021', 'nodename': None, 'nodeid': None, 'world_size': 16, 'tasks_per_node': 8, 'rank': 0, 'local_rank': 0, 'hostip': '10.3.5.1', 'ip': None}
proc_info: {'clustername': 'Unknown Cluster', 'hostname': 'g3021', 'nodename': None, 'nodeid': None, 'world_size': 16, 'tasks_per_node': 8, 'rank': 1, 'local_rank': 1, 'hostip': '10.3.5.1', 'ip': None}
proc_info: {'clustername': 'Unknown Cluster', 'hostname': 'g3021', 'nodename': None, 'nodeid': None, 'world_size': 16, 'tasks_per_node': 8, 'rank': 3, 'local_rank': 3, 'hostip': '10.3.5.1', 'ip': None}
proc_info: {'clustername': 'Unknown Cluster', 'hostname': 'g3021', 'nodename': None, 'nodeid': None, 'world_size': 16, 'tasks_per_node': 8, 'rank': 2, 'local_rank': 2, 'hostip': '10.3.5.1', 'ip': None}
proc_info: {'clustername': 'Unknown Cluster', 'hostname': 'g3021', 'nodename': None, 'nodeid': None, 'world_size': 16, 'tasks_per_node': 8, 'rank': 6, 'local_rank': 6, 'hostip': '10.3.5.1', 'ip': None}
proc_info: {'clustername': 'Unknown Cluster', 'hostname': 'g3022', 'nodename': None, 'nodeid': None, 'world_size': 16, 'tasks_per_node': 8, 'rank': 10, 'local_rank': 2, 'hostip': '10.3.5.2', 'ip': None}
NCCL version 2.18.6+cuda11.8
[INFO]: Cluster init done !!!
[[0, 1]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 180.271 GB/s, time 0.0019 s, comm_vol 335.544 MB
SIZE 64 MB, REAL_BD 219.038 GB/s, time 0.0061 s, comm_vol 1.342 GB
SIZE 256 MB, REAL_BD 245.027 GB/s, time 0.0219 s, comm_vol 5.369 GB
SIZE 1 GB, REAL_BD 254.938 GB/s, time 0.0842 s, comm_vol 21.475 GB
[[0, 1], [1, 0]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 266.725 GB/s, time 0.0025 s, comm_vol 671.089 MB
SIZE 64 MB, REAL_BD 340.1 GB/s, time 0.0079 s, comm_vol 2.684 GB
SIZE 256 MB, REAL_BD 381.625 GB/s, time 0.0281 s, comm_vol 10.737 GB
SIZE 1 GB, REAL_BD 459.969 GB/s, time 0.0934 s, comm_vol 42.95 GB
[[0, 8]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 9.672 GB/s, time 0.0347 s, comm_vol 335.544 MB
SIZE 64 MB, REAL_BD 12.552 GB/s, time 0.1069 s, comm_vol 1.342 GB
SIZE 256 MB, REAL_BD 13.009 GB/s, time 0.4127 s, comm_vol 5.369 GB
SIZE 1 GB, REAL_BD 13.529 GB/s, time 1.5874 s, comm_vol 21.475 GB
[[0, 8], [8, 0]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 34.137 GB/s, time 0.0197 s, comm_vol 671.089 MB
SIZE 64 MB, REAL_BD 22.12 GB/s, time 0.1214 s, comm_vol 2.684 GB
SIZE 256 MB, REAL_BD 28.983 GB/s, time 0.3705 s, comm_vol 10.737 GB
SIZE 1 GB, REAL_BD 24.481 GB/s, time 1.7544 s, comm_vol 42.95 GB
[[0, 15], [15, 0]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 29.404 GB/s, time 0.0228 s, comm_vol 671.089 MB
SIZE 64 MB, REAL_BD 26.624 GB/s, time 0.1008 s, comm_vol 2.684 GB
SIZE 256 MB, REAL_BD 29.735 GB/s, time 0.3611 s, comm_vol 10.737 GB
SIZE 1 GB, REAL_BD 24.958 GB/s, time 1.7209 s, comm_vol 42.95 GB
[[0, 8], [0, 15]]
SIZE 16 MB, REAL_BD 12.055 GB/s, time 0.0557 s, comm_vol 671.089 MB
SIZE 64 MB, REAL_BD 15.039 GB/s, time 0.1785 s, comm_vol 2.684 GB
SIZE 256 MB, REAL_BD 17.043 GB/s, time 0.63 s, comm_vol 10.737 GB
SIZE 1 GB, REAL_BD 17.104 GB/s, time 2.511 s, comm_vol 42.95 GB
[[0, 8], [0, 15], [8, 0], [15, 0]]
SIZE 16 MB, REAL_BD 38.723 GB/s, time 0.0347 s, comm_vol 1.342 GB
SIZE 64 MB, REAL_BD 26.061 GB/s, time 0.206 s, comm_vol 5.369 GB
SIZE 256 MB, REAL_BD 31.354 GB/s, time 0.6849 s, comm_vol 21.475 GB
SIZE 1 GB, REAL_BD 31.879 GB/s, time 2.6946 s, comm_vol 85.899 GB
[[7, 8], [15, 0]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 18.145 GB/s, time 0.037 s, comm_vol 671.089 MB
SIZE 64 MB, REAL_BD 29.565 GB/s, time 0.0908 s, comm_vol 2.684 GB
SIZE 256 MB, REAL_BD 22.886 GB/s, time 0.4692 s, comm_vol 10.737 GB
SIZE 1 GB, REAL_BD 26.896 GB/s, time 1.5969 s, comm_vol 42.95 GB
[[0, 8], [2, 10]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 31.609 GB/s, time 0.0212 s, comm_vol 671.089 MB
SIZE 64 MB, REAL_BD 36.139 GB/s, time 0.0743 s, comm_vol 2.684 GB
SIZE 256 MB, REAL_BD 25.676 GB/s, time 0.4182 s, comm_vol 10.737 GB
SIZE 1 GB, REAL_BD 27.476 GB/s, time 1.5632 s, comm_vol 42.95 GB
[[0, 8], [8, 0], [2, 10], [10, 2]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 30.872 GB/s, time 0.0435 s, comm_vol 1.342 GB
SIZE 64 MB, REAL_BD 50.241 GB/s, time 0.1069 s, comm_vol 5.369 GB
SIZE 256 MB, REAL_BD 47.523 GB/s, time 0.4519 s, comm_vol 21.475 GB
SIZE 1 GB, REAL_BD 52.015 GB/s, time 1.6514 s, comm_vol 85.899 GB
[[0, 8], [4, 12]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 27.223 GB/s, time 0.0247 s, comm_vol 671.089 MB
SIZE 64 MB, REAL_BD 37.019 GB/s, time 0.0725 s, comm_vol 2.684 GB
SIZE 256 MB, REAL_BD 24.587 GB/s, time 0.4367 s, comm_vol 10.737 GB
SIZE 1 GB, REAL_BD 28.464 GB/s, time 1.5089 s, comm_vol 42.95 GB
[[0, 8], [8, 0], [4, 12], [12, 4]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 36.923 GB/s, time 0.0364 s, comm_vol 1.342 GB
SIZE 64 MB, REAL_BD 38.708 GB/s, time 0.1387 s, comm_vol 5.369 GB
SIZE 256 MB, REAL_BD 48.377 GB/s, time 0.4439 s, comm_vol 21.475 GB
SIZE 1 GB, REAL_BD 50.899 GB/s, time 1.6876 s, comm_vol 85.899 GB
[[0, 8], [2, 10], [4, 12], [6, 14]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 41.321 GB/s, time 0.0325 s, comm_vol 1.342 GB
SIZE 64 MB, REAL_BD 41.249 GB/s, time 0.1302 s, comm_vol 5.369 GB
SIZE 256 MB, REAL_BD 50.706 GB/s, time 0.4235 s, comm_vol 21.475 GB
SIZE 1 GB, REAL_BD 53.186 GB/s, time 1.6151 s, comm_vol 85.899 GB
[[0, 8], [8, 0], [2, 10], [10, 2], [4, 12], [12, 4], [6, 14], [14, 6]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 111.33 GB/s, time 0.0241 s, comm_vol 2.684 GB
SIZE 64 MB, REAL_BD 67.9 GB/s, time 0.1581 s, comm_vol 10.737 GB
SIZE 256 MB, REAL_BD 97.652 GB/s, time 0.4398 s, comm_vol 42.95 GB
SIZE 1 GB, REAL_BD 96.406 GB/s, time 1.782 s, comm_vol 171.799 GB
[[0, 8], [1, 9], [2, 10], [3, 11], [4, 12], [5, 13], [6, 14], [7, 15]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 57.216 GB/s, time 0.0469 s, comm_vol 2.684 GB
SIZE 64 MB, REAL_BD 60.236 GB/s, time 0.1783 s, comm_vol 10.737 GB
SIZE 256 MB, REAL_BD 69.15 GB/s, time 0.6211 s, comm_vol 42.95 GB
SIZE 1 GB, REAL_BD 67.678 GB/s, time 2.5385 s, comm_vol 171.799 GB
[[0, 8], [1, 9], [2, 10], [3, 11], [4, 12], [5, 13], [6, 14], [7, 15], [8, 0], [9, 1], [10, 2], [11, 3], [12, 4], [13, 5], [14, 6], [15, 7]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 98.238 GB/s, time 0.0546 s, comm_vol 5.369 GB
SIZE 64 MB, REAL_BD 167.697 GB/s, time 0.1281 s, comm_vol 21.475 GB
SIZE 256 MB, REAL_BD 124.503 GB/s, time 0.6899 s, comm_vol 85.899 GB
SIZE 1 GB, REAL_BD 123.804 GB/s, time 2.7753 s, comm_vol 343.597 GB
+ set +x
