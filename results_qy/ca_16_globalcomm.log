BACKEND: NCCL
CP_FILE_NAME: small
NNODES: 2
NGPU_PER_NODE: 8
+++ which mpirun
++ dirname /home/zhaijidong/yhy/.local/openmpi/bin/mpirun
+ mpirun --prefix /home/zhaijidong/yhy/.local/openmpi/bin/../ -x LD_LIBRARY_PATH -np 16 --host g4007:8,g4008:8 ./csrc/build/conflict_allinone 16 NCCL ./scripts/configs/small.json
--------------------------------------------------------------------------
WARNING: There was an error initializing an OpenFabrics device.

  Local host:   g4008
  Local device: mlx5_0
--------------------------------------------------------------------------
[mngg001:974836] 15 more processes have sent help message help-mpi-btl-openib.txt / error in device init
[mngg001:974836] Set MCA parameter "orte_base_help_aggregate" to 0 to see all help / error messages
[[0,1]]
time 0.000323 s, REAL_BD 9.070240 GB/s, SIZE 1024.000000 KB, comm_vol 3072.000000 KB
time 0.025266 s, REAL_BD 14.842080 GB/s, SIZE 131072.000000 KB, comm_vol 393216.000000 KB
time 0.099728 s, REAL_BD 15.040911 GB/s, SIZE 524288.000000 KB, comm_vol 1572864.000000 KB
time 0.340392 s, REAL_BD 17.626736 GB/s, SIZE 2097152.000000 KB, comm_vol 6291456.000000 KB
[[0,1],[1,0]]
time 0.000341 s, REAL_BD 17.182918 GB/s, SIZE 1024.000000 KB, comm_vol 6144.000000 KB
time 0.034400 s, REAL_BD 21.802326 GB/s, SIZE 131072.000000 KB, comm_vol 786432.000000 KB
time 0.137509 s, REAL_BD 21.816754 GB/s, SIZE 524288.000000 KB, comm_vol 3145728.000000 KB
time 0.547858 s, REAL_BD 21.903486 GB/s, SIZE 2097152.000000 KB, comm_vol 12582912.000000 KB
[[0,8]]
time 0.000480 s, REAL_BD 6.103516 GB/s, SIZE 1024.000000 KB, comm_vol 3072.000000 KB
time 0.039907 s, REAL_BD 9.396848 GB/s, SIZE 131072.000000 KB, comm_vol 393216.000000 KB
time 0.141016 s, REAL_BD 10.637091 GB/s, SIZE 524288.000000 KB, comm_vol 1572864.000000 KB
time 0.567200 s, REAL_BD 10.578279 GB/s, SIZE 2097152.000000 KB, comm_vol 6291456.000000 KB
[[0,9]]
time 0.000467 s, REAL_BD 6.273421 GB/s, SIZE 1024.000000 KB, comm_vol 3072.000000 KB
time 0.040317 s, REAL_BD 9.301287 GB/s, SIZE 131072.000000 KB, comm_vol 393216.000000 KB
time 0.143820 s, REAL_BD 10.429704 GB/s, SIZE 524288.000000 KB, comm_vol 1572864.000000 KB
time 0.576586 s, REAL_BD 10.406080 GB/s, SIZE 2097152.000000 KB, comm_vol 6291456.000000 KB
[[0,10]]
time 0.000520 s, REAL_BD 5.634014 GB/s, SIZE 1024.000000 KB, comm_vol 3072.000000 KB
time 0.043288 s, REAL_BD 8.662909 GB/s, SIZE 131072.000000 KB, comm_vol 393216.000000 KB
time 0.137114 s, REAL_BD 10.939802 GB/s, SIZE 524288.000000 KB, comm_vol 1572864.000000 KB
time 0.548716 s, REAL_BD 10.934618 GB/s, SIZE 2097152.000000 KB, comm_vol 6291456.000000 KB
[[0,11]]
time 0.000488 s, REAL_BD 6.003458 GB/s, SIZE 1024.000000 KB, comm_vol 3072.000000 KB
time 0.040682 s, REAL_BD 9.217836 GB/s, SIZE 131072.000000 KB, comm_vol 393216.000000 KB
time 0.152120 s, REAL_BD 9.860636 GB/s, SIZE 524288.000000 KB, comm_vol 1572864.000000 KB
time 0.609651 s, REAL_BD 9.841696 GB/s, SIZE 2097152.000000 KB, comm_vol 6291456.000000 KB
[[0,12]]
time 0.000548 s, REAL_BD 5.346145 GB/s, SIZE 1024.000000 KB, comm_vol 3072.000000 KB
time 0.047827 s, REAL_BD 7.840759 GB/s, SIZE 131072.000000 KB, comm_vol 393216.000000 KB
time 0.152956 s, REAL_BD 9.806742 GB/s, SIZE 524288.000000 KB, comm_vol 1572864.000000 KB
time 0.615777 s, REAL_BD 9.743787 GB/s, SIZE 2097152.000000 KB, comm_vol 6291456.000000 KB
[[0,13]]
time 0.000463 s, REAL_BD 6.327619 GB/s, SIZE 1024.000000 KB, comm_vol 3072.000000 KB
time 0.039279 s, REAL_BD 9.547086 GB/s, SIZE 131072.000000 KB, comm_vol 393216.000000 KB
time 0.136732 s, REAL_BD 10.970365 GB/s, SIZE 524288.000000 KB, comm_vol 1572864.000000 KB
time 0.549610 s, REAL_BD 10.916832 GB/s, SIZE 2097152.000000 KB, comm_vol 6291456.000000 KB
[[0,14]]
time 0.000474 s, REAL_BD 6.180775 GB/s, SIZE 1024.000000 KB, comm_vol 3072.000000 KB
time 0.040257 s, REAL_BD 9.315150 GB/s, SIZE 131072.000000 KB, comm_vol 393216.000000 KB
time 0.144852 s, REAL_BD 10.355397 GB/s, SIZE 524288.000000 KB, comm_vol 1572864.000000 KB
time 0.578748 s, REAL_BD 10.367206 GB/s, SIZE 2097152.000000 KB, comm_vol 6291456.000000 KB
[[0,15]]
time 0.000536 s, REAL_BD 5.465835 GB/s, SIZE 1024.000000 KB, comm_vol 3072.000000 KB
time 0.043387 s, REAL_BD 8.643142 GB/s, SIZE 131072.000000 KB, comm_vol 393216.000000 KB
time 0.140907 s, REAL_BD 10.645319 GB/s, SIZE 524288.000000 KB, comm_vol 1572864.000000 KB
time 0.565960 s, REAL_BD 10.601456 GB/s, SIZE 2097152.000000 KB, comm_vol 6291456.000000 KB
[[0,8],[8,0]]
time 0.000652 s, REAL_BD 8.986771 GB/s, SIZE 1024.000000 KB, comm_vol 6144.000000 KB
time 0.063247 s, REAL_BD 11.858270 GB/s, SIZE 131072.000000 KB, comm_vol 786432.000000 KB
time 0.249986 s, REAL_BD 12.000672 GB/s, SIZE 524288.000000 KB, comm_vol 3145728.000000 KB
time 0.996631 s, REAL_BD 12.040565 GB/s, SIZE 2097152.000000 KB, comm_vol 12582912.000000 KB
[[0,15],[15,0]]
time 0.000676 s, REAL_BD 8.667714 GB/s, SIZE 1024.000000 KB, comm_vol 6144.000000 KB
time 0.066176 s, REAL_BD 11.333414 GB/s, SIZE 131072.000000 KB, comm_vol 786432.000000 KB
time 0.249961 s, REAL_BD 12.001872 GB/s, SIZE 524288.000000 KB, comm_vol 3145728.000000 KB
time 1.001821 s, REAL_BD 11.978188 GB/s, SIZE 2097152.000000 KB, comm_vol 12582912.000000 KB
[[0,8],[0,15]]
time 0.000568 s, REAL_BD 10.315801 GB/s, SIZE 1024.000000 KB, comm_vol 6144.000000 KB
time 0.048843 s, REAL_BD 15.355322 GB/s, SIZE 131072.000000 KB, comm_vol 786432.000000 KB
time 0.192818 s, REAL_BD 15.558713 GB/s, SIZE 524288.000000 KB, comm_vol 3145728.000000 KB
time 0.772292 s, REAL_BD 15.538164 GB/s, SIZE 2097152.000000 KB, comm_vol 12582912.000000 KB
[[0,8],[0,15],[8,0],[15,0]]
time 0.000999 s, REAL_BD 11.730480 GB/s, SIZE 1024.000000 KB, comm_vol 12288.000000 KB
time 0.106897 s, REAL_BD 14.032199 GB/s, SIZE 131072.000000 KB, comm_vol 1572864.000000 KB
time 0.424347 s, REAL_BD 14.139372 GB/s, SIZE 524288.000000 KB, comm_vol 6291456.000000 KB
time 1.702534 s, REAL_BD 14.096635 GB/s, SIZE 2097152.000000 KB, comm_vol 25165824.000000 KB
[[7,8],[15,0]]
time 0.000505 s, REAL_BD 11.602723 GB/s, SIZE 1024.000000 KB, comm_vol 6144.000000 KB
time 0.037874 s, REAL_BD 19.802503 GB/s, SIZE 131072.000000 KB, comm_vol 786432.000000 KB
time 0.139628 s, REAL_BD 21.485662 GB/s, SIZE 524288.000000 KB, comm_vol 3145728.000000 KB
time 0.561644 s, REAL_BD 21.365847 GB/s, SIZE 2097152.000000 KB, comm_vol 12582912.000000 KB
[[0,8],[4,12]]
time 0.000496 s, REAL_BD 11.813256 GB/s, SIZE 1024.000000 KB, comm_vol 6144.000000 KB
time 0.039416 s, REAL_BD 19.027806 GB/s, SIZE 131072.000000 KB, comm_vol 786432.000000 KB
time 0.151418 s, REAL_BD 19.812704 GB/s, SIZE 524288.000000 KB, comm_vol 3145728.000000 KB
time 0.605013 s, REAL_BD 19.834285 GB/s, SIZE 2097152.000000 KB, comm_vol 12582912.000000 KB
[[0,8],[2,10],[4,12],[6,14]]
time 0.000591 s, REAL_BD 19.828680 GB/s, SIZE 1024.000000 KB, comm_vol 12288.000000 KB
time 0.046249 s, REAL_BD 32.433134 GB/s, SIZE 131072.000000 KB, comm_vol 1572864.000000 KB
time 0.166012 s, REAL_BD 36.141966 GB/s, SIZE 524288.000000 KB, comm_vol 6291456.000000 KB
time 0.658461 s, REAL_BD 36.448628 GB/s, SIZE 2097152.000000 KB, comm_vol 25165824.000000 KB
--------------------------------------------------------------------------
mpirun has exited due to process rank 13 with PID 39570 on
node g4008 exiting improperly. There are three reasons this could occur:

1. this process did not call "init" before exiting, but others in
the job did. This can cause a job to hang indefinitely while it waits
for all processes to call "init". By rule, if one process calls "init",
then ALL processes must call "init" prior to termination.

2. this process called "init", but exited without calling "finalize".
By rule, all processes that call "init" MUST call "finalize" prior to
exiting or it will be considered an "abnormal termination"

3. this process called "MPI_Abort" or "orte_abort" and the mca parameter
orte_create_session_dirs is set to false. In this case, the run-time cannot
detect that the abort call was an abnormal termination. Hence, the only
error message you will receive is this one.

This may have caused other processes in the application to be
terminated by signals sent by mpirun (as reported here).

You can avoid this message by specifying -quiet on the mpirun command line.
--------------------------------------------------------------------------
