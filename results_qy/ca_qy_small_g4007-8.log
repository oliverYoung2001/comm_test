BACKEND: NCCL
CP_FILE_NAME: small
NNODES: 2
NGPU_PER_NODE: 8
+++ which mpirun
++ dirname /home/zhaijidong/yhy/.local/openmpi/bin/mpirun
+ mpirun --prefix /home/zhaijidong/yhy/.local/openmpi/bin/../ -x LD_LIBRARY_PATH -np 16 --host g4007:8,g4008:8 ./csrc/build/conflict_allinone 16 NCCL ./scripts/configs/small.json
--------------------------------------------------------------------------
WARNING: There was an error initializing an OpenFabrics device.

  Local host:   g4008
  Local device: mlx5_0
--------------------------------------------------------------------------
rank: 8, local_rank: 0, comm_size: 16, tasks_per_node: 8
rank: 9, local_rank: 1, comm_size: 16, tasks_per_node: 8
rank: 10, local_rank: 2, comm_size: 16, tasks_per_node: 8
rank: 15, local_rank: 7, comm_size: 16, tasks_per_node: 8
rank: 13, local_rank: 5, comm_size: 16, tasks_per_node: 8
rank: 12, local_rank: 4, comm_size: 16, tasks_per_node: 8
rank: 11, local_rank: 3, comm_size: 16, tasks_per_node: 8
rank: 0, local_rank: 0, comm_size: 16, tasks_per_node: 8
rank: 5, local_rank: 5, comm_size: 16, tasks_per_node: 8
rank: 14, local_rank: 6, comm_size: 16, tasks_per_node: 8
rank: 1, local_rank: 1, comm_size: 16, tasks_per_node: 8
rank: 3, local_rank: 3, comm_size: 16, tasks_per_node: 8
rank: 6, local_rank: 6, comm_size: 16, tasks_per_node: 8
rank: 4, local_rank: 4, comm_size: 16, tasks_per_node: 8
rank: 7, local_rank: 7, comm_size: 16, tasks_per_node: 8
rank: 2, local_rank: 2, comm_size: 16, tasks_per_node: 8
[mngg001:490727] 15 more processes have sent help message help-mpi-btl-openib.txt / error in device init
[mngg001:490727] Set MCA parameter "orte_base_help_aggregate" to 0 to see all help / error messages
[[0,1]]
time 0.002356 s, REAL_BD 1.243501 GB/s, SIZE 1024.000000 KB, comm_vol 3072.000000 KB
time 0.025233 s, REAL_BD 14.861491 GB/s, SIZE 131072.000000 KB, comm_vol 393216.000000 KB
time 0.100244 s, REAL_BD 14.963489 GB/s, SIZE 524288.000000 KB, comm_vol 1572864.000000 KB
time 0.336893 s, REAL_BD 17.809809 GB/s, SIZE 2097152.000000 KB, comm_vol 6291456.000000 KB
[[0,1],[1,0]]
time 0.000371 s, REAL_BD 15.793464 GB/s, SIZE 1024.000000 KB, comm_vol 6144.000000 KB
time 0.034415 s, REAL_BD 21.792823 GB/s, SIZE 131072.000000 KB, comm_vol 786432.000000 KB
time 0.137350 s, REAL_BD 21.842009 GB/s, SIZE 524288.000000 KB, comm_vol 3145728.000000 KB
time 0.548949 s, REAL_BD 21.859954 GB/s, SIZE 2097152.000000 KB, comm_vol 12582912.000000 KB
[[0,8]]
time 0.000554 s, REAL_BD 5.288245 GB/s, SIZE 1024.000000 KB, comm_vol 3072.000000 KB
time 0.043218 s, REAL_BD 8.676940 GB/s, SIZE 131072.000000 KB, comm_vol 393216.000000 KB
time 0.140739 s, REAL_BD 10.658027 GB/s, SIZE 524288.000000 KB, comm_vol 1572864.000000 KB
time 0.565183 s, REAL_BD 10.616031 GB/s, SIZE 2097152.000000 KB, comm_vol 6291456.000000 KB
[[0,15]]
time 0.000524 s, REAL_BD 5.591007 GB/s, SIZE 1024.000000 KB, comm_vol 3072.000000 KB
time 0.047182 s, REAL_BD 7.947946 GB/s, SIZE 131072.000000 KB, comm_vol 393216.000000 KB
time 0.141181 s, REAL_BD 10.624659 GB/s, SIZE 524288.000000 KB, comm_vol 1572864.000000 KB
time 0.566010 s, REAL_BD 10.600519 GB/s, SIZE 2097152.000000 KB, comm_vol 6291456.000000 KB
[[0,8],[8,0]]
time 0.000674 s, REAL_BD 8.693435 GB/s, SIZE 1024.000000 KB, comm_vol 6144.000000 KB
time 0.068018 s, REAL_BD 11.026493 GB/s, SIZE 131072.000000 KB, comm_vol 786432.000000 KB
time 0.248973 s, REAL_BD 12.049499 GB/s, SIZE 524288.000000 KB, comm_vol 3145728.000000 KB
time 1.001816 s, REAL_BD 11.978248 GB/s, SIZE 2097152.000000 KB, comm_vol 12582912.000000 KB
[[0,15],[15,0]]
time 0.000701 s, REAL_BD 8.358595 GB/s, SIZE 1024.000000 KB, comm_vol 6144.000000 KB
time 0.062124 s, REAL_BD 12.072629 GB/s, SIZE 131072.000000 KB, comm_vol 786432.000000 KB
time 0.247633 s, REAL_BD 12.114702 GB/s, SIZE 524288.000000 KB, comm_vol 3145728.000000 KB
time 0.992351 s, REAL_BD 12.092495 GB/s, SIZE 2097152.000000 KB, comm_vol 12582912.000000 KB
[[0,8],[0,15]]
time 0.000577 s, REAL_BD 10.154896 GB/s, SIZE 1024.000000 KB, comm_vol 6144.000000 KB
time 0.048879 s, REAL_BD 15.344013 GB/s, SIZE 131072.000000 KB, comm_vol 786432.000000 KB
time 0.196324 s, REAL_BD 15.280862 GB/s, SIZE 524288.000000 KB, comm_vol 3145728.000000 KB
time 0.783734 s, REAL_BD 15.311317 GB/s, SIZE 2097152.000000 KB, comm_vol 12582912.000000 KB
[[0,8],[0,15],[8,0],[15,0]]
time 0.001105 s, REAL_BD 10.605204 GB/s, SIZE 1024.000000 KB, comm_vol 12288.000000 KB
time 0.106649 s, REAL_BD 14.064829 GB/s, SIZE 131072.000000 KB, comm_vol 1572864.000000 KB
time 0.425701 s, REAL_BD 14.094400 GB/s, SIZE 524288.000000 KB, comm_vol 6291456.000000 KB
time 1.701748 s, REAL_BD 14.103146 GB/s, SIZE 2097152.000000 KB, comm_vol 25165824.000000 KB
[[7,8],[15,0]]
time 0.000501 s, REAL_BD 11.695359 GB/s, SIZE 1024.000000 KB, comm_vol 6144.000000 KB
time 0.037870 s, REAL_BD 19.804595 GB/s, SIZE 131072.000000 KB, comm_vol 786432.000000 KB
time 0.141116 s, REAL_BD 21.259106 GB/s, SIZE 524288.000000 KB, comm_vol 3145728.000000 KB
time 0.567082 s, REAL_BD 21.160961 GB/s, SIZE 2097152.000000 KB, comm_vol 12582912.000000 KB
--------------------------------------------------------------------------
mpirun has exited due to process rank 8 with PID 19576 on
node g4008 exiting improperly. There are three reasons this could occur:

1. this process did not call "init" before exiting, but others in
the job did. This can cause a job to hang indefinitely while it waits
for all processes to call "init". By rule, if one process calls "init",
then ALL processes must call "init" prior to termination.

2. this process called "init", but exited without calling "finalize".
By rule, all processes that call "init" MUST call "finalize" prior to
exiting or it will be considered an "abnormal termination"

3. this process called "MPI_Abort" or "orte_abort" and the mca parameter
orte_create_session_dirs is set to false. In this case, the run-time cannot
detect that the abort call was an abnormal termination. Hence, the only
error message you will receive is this one.

This may have caused other processes in the application to be
terminated by signals sent by mpirun (as reported here).

You can avoid this message by specifying -quiet on the mpirun command line.
--------------------------------------------------------------------------
