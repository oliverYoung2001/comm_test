HOST: g3017,g3018
CP_FILE_NAME: small
HOST: g3017,g3018
CUDA_VISIBLE_DEVICES: 
GPU_NUM: 16
PROC_NUM: 16
NNODES: 2
NTASK_PER_NODE: 8
MASTER_ADDR: g3011
+++ which mpirun
++ dirname /home/zhaijidong/yhy/.local/openmpi/bin/mpirun
+ mpirun --prefix /home/zhaijidong/yhy/.local/openmpi/bin/../ -x MASTER_ADDR -x MASTER_PORT -x PATH -x LD_LIBRARY_PATH -x NCCL_DEBUG -x NCCL_NET_GDR_LEVEL -x NCCL_DEBUG_SUBSYS -x NCCL_IB_DISABLE -np 32 --host g3011:8,g3017:8,g3018:8,g3022:8 --map-by ppr:4:numa --bind-to core --report-bindings python conflict_bench.py --backend NCCL --config ./scripts/configs/small_32.json
NCCL version 2.18.6+cuda11.8
[INFO]: Cluster init done !!!
[[0, 8]]
SIZE 16 MB, REAL_BD 22.371 GB/s, time 0.0075 s, comm_vol 167.772 MB
SIZE 64 MB, REAL_BD 22.999 GB/s, time 0.0292 s, comm_vol 671.089 MB
SIZE 256 MB, REAL_BD 23.005 GB/s, time 0.1167 s, comm_vol 2.684 GB
SIZE 1 GB, REAL_BD 22.067 GB/s, time 0.4866 s, comm_vol 10.737 GB
[[0, 8], [8, 16]]
SIZE 16 MB, REAL_BD 39.064 GB/s, time 0.0086 s, comm_vol 335.544 MB
SIZE 64 MB, REAL_BD 40.844 GB/s, time 0.0329 s, comm_vol 1.342 GB
SIZE 256 MB, REAL_BD 41.207 GB/s, time 0.1303 s, comm_vol 5.369 GB
SIZE 1 GB, REAL_BD 35.63 GB/s, time 0.6027 s, comm_vol 21.475 GB
[[0, 8], [8, 16], [16, 24]]
SIZE 16 MB, REAL_BD 59.353 GB/s, time 0.0085 s, comm_vol 503.316 MB
SIZE 64 MB, REAL_BD 61.88 GB/s, time 0.0325 s, comm_vol 2.013 GB
SIZE 256 MB, REAL_BD 62.203 GB/s, time 0.1295 s, comm_vol 8.053 GB
SIZE 1 GB, REAL_BD 62.383 GB/s, time 0.5164 s, comm_vol 32.212 GB
[[0, 8], [8, 16], [16, 24], [24, 0]]
SIZE 16 MB, REAL_BD 74.781 GB/s, time 0.009 s, comm_vol 671.089 MB
SIZE 64 MB, REAL_BD 79.464 GB/s, time 0.0338 s, comm_vol 2.684 GB
SIZE 256 MB, REAL_BD 80.572 GB/s, time 0.1333 s, comm_vol 10.737 GB
SIZE 1 GB, REAL_BD 65.861 GB/s, time 0.6521 s, comm_vol 42.95 GB
[[0, 8], [8, 16], [16, 24], [24, 0], [2, 10], [10, 18], [18, 26], [26, 2]]
SIZE 16 MB, REAL_BD 151.886 GB/s, time 0.0088 s, comm_vol 1.342 GB
SIZE 64 MB, REAL_BD 158.263 GB/s, time 0.0339 s, comm_vol 5.369 GB
SIZE 256 MB, REAL_BD 161.539 GB/s, time 0.1329 s, comm_vol 21.475 GB
SIZE 1 GB, REAL_BD 161.368 GB/s, time 0.5323 s, comm_vol 85.899 GB
[[0, 8], [8, 16], [16, 24], [24, 0], [4, 12], [12, 20], [20, 28], [28, 4]]
SIZE 16 MB, REAL_BD 152.231 GB/s, time 0.0088 s, comm_vol 1.342 GB
SIZE 64 MB, REAL_BD 159.231 GB/s, time 0.0337 s, comm_vol 5.369 GB
SIZE 256 MB, REAL_BD 162.234 GB/s, time 0.1324 s, comm_vol 21.475 GB
SIZE 1 GB, REAL_BD 162.421 GB/s, time 0.5289 s, comm_vol 85.899 GB
[[0, 8], [8, 16], [16, 24], [24, 0], [2, 10], [10, 18], [18, 26], [26, 0], [4, 12], [12, 20], [20, 28], [28, 4], [6, 14], [14, 22], [22, 30], [30, 6]]
SIZE 16 MB, REAL_BD 181.462 GB/s, time 0.0148 s, comm_vol 2.684 GB
SIZE 64 MB, REAL_BD 185.544 GB/s, time 0.0579 s, comm_vol 10.737 GB
SIZE 256 MB, REAL_BD 188.217 GB/s, time 0.2282 s, comm_vol 42.95 GB
SIZE 1 GB, REAL_BD 188.886 GB/s, time 0.9095 s, comm_vol 171.799 GB
[[0, 8], [8, 16], [16, 24], [24, 0], [2, 10], [10, 18], [18, 26], [26, 0], [4, 12], [12, 20], [20, 28], [28, 4], [6, 14], [14, 22], [22, 30], [30, 6], [1, 9], [9, 17], [17, 25], [25, 1], [3, 11], [11, 19], [19, 27], [27, 3], [5, 13], [13, 21], [21, 29], [29, 5], [7, 15], [15, 23], [23, 31], [31, 7]]
SIZE 16 MB, REAL_BD 246.136 GB/s, time 0.0218 s, comm_vol 5.369 GB
SIZE 64 MB, REAL_BD 251.255 GB/s, time 0.0855 s, comm_vol 21.475 GB
SIZE 256 MB, REAL_BD 256.336 GB/s, time 0.3351 s, comm_vol 85.899 GB
SIZE 1 GB, REAL_BD 250.201 GB/s, time 1.3733 s, comm_vol 343.597 GB
+ set +x
