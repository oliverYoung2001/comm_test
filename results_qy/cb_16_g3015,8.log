HOST: None
CP_FILE_NAME: small
HOST: None
CUDA_VISIBLE_DEVICES: 
GPU_NUM: 16
PROC_NUM: 16
NNODES: 2
NTASK_PER_NODE: 8
+ srun -p rag -N 2 --ntasks-per-node 8 --gres=gpu:8 --mem 256G -K -c 16 ./scripts/executor.sh python conflict_bench.py --backend NCCL --config ./scripts/configs/small_16.json
srun: job 3344 queued and waiting for resources
srun: job 3344 has been allocated resources
cpu-bind=MASK - g3015, task  0  0 [3374996]: mask 0xff00000000000000ff set
cpu-bind=MASK - g3015, task  1  1 [3374997]: mask 0xff00000000000000ff00000000 set
cpu-bind=MASK - g3015, task  2  2 [3374998]: mask 0xff00000000000000ff00 set
cpu-bind=MASK - g3015, task  3  3 [3374999]: mask 0xff00000000000000ff0000000000 set
cpu-bind=MASK - g3015, task  4  4 [3375000]: mask 0xff00000000000000ff0000 set
cpu-bind=MASK - g3015, task  5  5 [3375003]: mask 0xff00000000000000ff000000000000 set
cpu-bind=MASK - g3015, task  6  6 [3375004]: mask 0xff00000000000000ff000000 set
cpu-bind=MASK - g3015, task  7  7 [3375006]: mask 0xff00000000000000ff00000000000000 set
cpu-bind=MASK - g3018, task  8  0 [314649]: mask 0xff00000000000000ff set
cpu-bind=MASK - g3018, task  9  1 [314650]: mask 0xff00000000000000ff00000000 set
cpu-bind=MASK - g3018, task 10  2 [314651]: mask 0xff00000000000000ff00 set
cpu-bind=MASK - g3018, task 11  3 [314652]: mask 0xff00000000000000ff0000000000 set
cpu-bind=MASK - g3018, task 12  4 [314653]: mask 0xff00000000000000ff0000 set
cpu-bind=MASK - g3018, task 13  5 [314654]: mask 0xff00000000000000ff000000000000 set
cpu-bind=MASK - g3018, task 14  6 [314655]: mask 0xff00000000000000ff000000 set
cpu-bind=MASK - g3018, task 15  7 [314656]: mask 0xff00000000000000ff00000000000000 set
NCCL version 2.18.6+cuda11.8
[INFO]: Cluster init done !!!
[[0, 1]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 131.999 GB/s, time 0.0013 s, comm_vol 167.772 MB
SIZE 64 MB, REAL_BD 213.919 GB/s, time 0.0031 s, comm_vol 671.089 MB
SIZE 256 MB, REAL_BD 244.782 GB/s, time 0.011 s, comm_vol 2.684 GB
SIZE 1 GB, REAL_BD 258.542 GB/s, time 0.0415 s, comm_vol 10.737 GB
[[0, 1], [1, 0]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 195.822 GB/s, time 0.0017 s, comm_vol 335.544 MB
SIZE 64 MB, REAL_BD 294.692 GB/s, time 0.0046 s, comm_vol 1.342 GB
SIZE 256 MB, REAL_BD 334.204 GB/s, time 0.0161 s, comm_vol 5.369 GB
SIZE 1 GB, REAL_BD 437.117 GB/s, time 0.0491 s, comm_vol 21.475 GB
[[0, 8]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 22.182 GB/s, time 0.0076 s, comm_vol 167.772 MB
SIZE 64 MB, REAL_BD 22.893 GB/s, time 0.0293 s, comm_vol 671.089 MB
SIZE 256 MB, REAL_BD 22.963 GB/s, time 0.1169 s, comm_vol 2.684 GB
SIZE 1 GB, REAL_BD 22.583 GB/s, time 0.4755 s, comm_vol 10.737 GB
[[0, 8], [8, 0]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 37.751 GB/s, time 0.0089 s, comm_vol 335.544 MB
SIZE 64 MB, REAL_BD 40.059 GB/s, time 0.0335 s, comm_vol 1.342 GB
SIZE 256 MB, REAL_BD 40.592 GB/s, time 0.1323 s, comm_vol 5.369 GB
SIZE 1 GB, REAL_BD 40.572 GB/s, time 0.5293 s, comm_vol 21.475 GB
[[0, 15], [15, 0]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 36.883 GB/s, time 0.0091 s, comm_vol 335.544 MB
SIZE 64 MB, REAL_BD 40.084 GB/s, time 0.0335 s, comm_vol 1.342 GB
SIZE 256 MB, REAL_BD 40.649 GB/s, time 0.1321 s, comm_vol 5.369 GB
SIZE 1 GB, REAL_BD 40.581 GB/s, time 0.5292 s, comm_vol 21.475 GB
[[0, 8], [0, 15]]
SIZE 16 MB, REAL_BD 23.257 GB/s, time 0.0144 s, comm_vol 335.544 MB
SIZE 64 MB, REAL_BD 24.078 GB/s, time 0.0557 s, comm_vol 1.342 GB
SIZE 256 MB, REAL_BD 24.272 GB/s, time 0.2212 s, comm_vol 5.369 GB
SIZE 1 GB, REAL_BD 24.275 GB/s, time 0.8846 s, comm_vol 21.475 GB
[[0, 8], [0, 15], [8, 0], [15, 0]]
SIZE 16 MB, REAL_BD 43.536 GB/s, time 0.0154 s, comm_vol 671.089 MB
SIZE 64 MB, REAL_BD 44.471 GB/s, time 0.0604 s, comm_vol 2.684 GB
SIZE 256 MB, REAL_BD 44.695 GB/s, time 0.2402 s, comm_vol 10.737 GB
SIZE 1 GB, REAL_BD 44.704 GB/s, time 0.9607 s, comm_vol 42.95 GB
[[7, 8], [15, 0]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 42.049 GB/s, time 0.008 s, comm_vol 335.544 MB
SIZE 64 MB, REAL_BD 43.421 GB/s, time 0.0309 s, comm_vol 1.342 GB
SIZE 256 MB, REAL_BD 40.976 GB/s, time 0.131 s, comm_vol 5.369 GB
SIZE 1 GB, REAL_BD 41.329 GB/s, time 0.5196 s, comm_vol 21.475 GB
[[0, 8], [2, 10]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 43.987 GB/s, time 0.0076 s, comm_vol 335.544 MB
SIZE 64 MB, REAL_BD 45.585 GB/s, time 0.0294 s, comm_vol 1.342 GB
SIZE 256 MB, REAL_BD 46.167 GB/s, time 0.1163 s, comm_vol 5.369 GB
SIZE 1 GB, REAL_BD 44.678 GB/s, time 0.4807 s, comm_vol 21.475 GB
[[0, 8], [8, 0], [2, 10], [10, 2]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 76.688 GB/s, time 0.0088 s, comm_vol 671.089 MB
SIZE 64 MB, REAL_BD 79.74 GB/s, time 0.0337 s, comm_vol 2.684 GB
SIZE 256 MB, REAL_BD 81.002 GB/s, time 0.1326 s, comm_vol 10.737 GB
SIZE 1 GB, REAL_BD 81.546 GB/s, time 0.5267 s, comm_vol 42.95 GB
[[0, 8], [4, 12]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 44.804 GB/s, time 0.0075 s, comm_vol 335.544 MB
SIZE 64 MB, REAL_BD 45.729 GB/s, time 0.0294 s, comm_vol 1.342 GB
SIZE 256 MB, REAL_BD 44.913 GB/s, time 0.1195 s, comm_vol 5.369 GB
SIZE 1 GB, REAL_BD 44.603 GB/s, time 0.4815 s, comm_vol 21.475 GB
[[0, 8], [8, 0], [4, 12], [12, 4]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 75.357 GB/s, time 0.0089 s, comm_vol 671.089 MB
SIZE 64 MB, REAL_BD 79.559 GB/s, time 0.0337 s, comm_vol 2.684 GB
SIZE 256 MB, REAL_BD 80.343 GB/s, time 0.1336 s, comm_vol 10.737 GB
SIZE 1 GB, REAL_BD 80.737 GB/s, time 0.532 s, comm_vol 42.95 GB
[[0, 8], [2, 10], [4, 12], [6, 14]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 86.864 GB/s, time 0.0077 s, comm_vol 671.089 MB
SIZE 64 MB, REAL_BD 91.755 GB/s, time 0.0293 s, comm_vol 2.684 GB
SIZE 256 MB, REAL_BD 93.002 GB/s, time 0.1155 s, comm_vol 10.737 GB
SIZE 1 GB, REAL_BD 92.464 GB/s, time 0.4645 s, comm_vol 42.95 GB
[[0, 8], [8, 0], [2, 10], [10, 2], [4, 12], [12, 4], [6, 14], [14, 6]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 132.546 GB/s, time 0.0101 s, comm_vol 1.342 GB
SIZE 64 MB, REAL_BD 138.241 GB/s, time 0.0388 s, comm_vol 5.369 GB
SIZE 256 MB, REAL_BD 148.816 GB/s, time 0.1443 s, comm_vol 21.475 GB
SIZE 1 GB, REAL_BD 162.328 GB/s, time 0.5292 s, comm_vol 85.899 GB
[[0, 8], [1, 9], [2, 10], [3, 11], [4, 12], [5, 13], [6, 14], [7, 15]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 95.469 GB/s, time 0.0141 s, comm_vol 1.342 GB
SIZE 64 MB, REAL_BD 96.754 GB/s, time 0.0555 s, comm_vol 5.369 GB
SIZE 256 MB, REAL_BD 97.142 GB/s, time 0.2211 s, comm_vol 21.475 GB
SIZE 1 GB, REAL_BD 97.052 GB/s, time 0.8851 s, comm_vol 85.899 GB
[[0, 8], [1, 9], [2, 10], [3, 11], [4, 12], [5, 13], [6, 14], [7, 15], [8, 0], [9, 1], [10, 2], [11, 3], [12, 4], [13, 5], [14, 6], [15, 7]]
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
[W ProcessGroupNCCL.cpp:1856] Warning: 0NCCL_AVOID_RECORD_STREAMS=1 has no effect for point-to-point collectives. (function operator())
SIZE 16 MB, REAL_BD 175.243 GB/s, time 0.0153 s, comm_vol 2.684 GB
SIZE 64 MB, REAL_BD 182.748 GB/s, time 0.0588 s, comm_vol 10.737 GB
SIZE 256 MB, REAL_BD 188.008 GB/s, time 0.2284 s, comm_vol 42.95 GB
SIZE 1 GB, REAL_BD 188.375 GB/s, time 0.912 s, comm_vol 171.799 GB
+ set +x
