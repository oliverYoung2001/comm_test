HOST: g3017,g3018
CP_FILE_NAME: small
HOST: g3017,g3018
CUDA_VISIBLE_DEVICES: 
GPU_NUM: 16
PROC_NUM: 16
NNODES: 2
NTASK_PER_NODE: 8
MASTER_ADDR: g3017
+++ which mpirun
++ dirname /home/zhaijidong/yhy/.local/openmpi/bin/mpirun
+ mpirun --prefix /home/zhaijidong/yhy/.local/openmpi/bin/../ -x MASTER_ADDR -x MASTER_PORT -x PATH -x LD_LIBRARY_PATH -x NCCL_DEBUG -x NCCL_NET_GDR_LEVEL -x NCCL_DEBUG_SUBSYS -x NCCL_IB_DISABLE -np 16 --host g3017:8,g3018:8 --map-by ppr:4:numa --bind-to core --report-bindings python conflict_bench.py --backend NCCL --config ./scripts/configs/small_16.json
NCCL version 2.18.6+cuda11.8
[INFO]: Cluster init done !!!
[[0, 1]]
SIZE 16 MB, REAL_BD 162.103 GB/s, time 0.001 s, comm_vol 167.772 MB
SIZE 64 MB, REAL_BD 206.876 GB/s, time 0.0032 s, comm_vol 671.089 MB
SIZE 256 MB, REAL_BD 240.392 GB/s, time 0.0112 s, comm_vol 2.684 GB
SIZE 1 GB, REAL_BD 251.532 GB/s, time 0.0427 s, comm_vol 10.737 GB
[[0, 1], [1, 0]]
SIZE 16 MB, REAL_BD 222.58 GB/s, time 0.0015 s, comm_vol 335.544 MB
SIZE 64 MB, REAL_BD 325.593 GB/s, time 0.0041 s, comm_vol 1.342 GB
SIZE 256 MB, REAL_BD 368.164 GB/s, time 0.0146 s, comm_vol 5.369 GB
SIZE 1 GB, REAL_BD 460.248 GB/s, time 0.0467 s, comm_vol 21.475 GB
[[0, 8]]
SIZE 16 MB, REAL_BD 22.555 GB/s, time 0.0074 s, comm_vol 167.772 MB
SIZE 64 MB, REAL_BD 23.27 GB/s, time 0.0288 s, comm_vol 671.089 MB
SIZE 256 MB, REAL_BD 23.456 GB/s, time 0.1144 s, comm_vol 2.684 GB
SIZE 1 GB, REAL_BD 23.11 GB/s, time 0.4646 s, comm_vol 10.737 GB
[[0, 8], [8, 0]]
SIZE 16 MB, REAL_BD 38.58 GB/s, time 0.0087 s, comm_vol 335.544 MB
SIZE 64 MB, REAL_BD 40.503 GB/s, time 0.0331 s, comm_vol 1.342 GB
SIZE 256 MB, REAL_BD 41.315 GB/s, time 0.1299 s, comm_vol 5.369 GB
SIZE 1 GB, REAL_BD 41.287 GB/s, time 0.5201 s, comm_vol 21.475 GB
[[0, 15], [15, 0]]
SIZE 16 MB, REAL_BD 38.895 GB/s, time 0.0086 s, comm_vol 335.544 MB
SIZE 64 MB, REAL_BD 40.785 GB/s, time 0.0329 s, comm_vol 1.342 GB
SIZE 256 MB, REAL_BD 41.275 GB/s, time 0.1301 s, comm_vol 5.369 GB
SIZE 1 GB, REAL_BD 41.374 GB/s, time 0.519 s, comm_vol 21.475 GB
[[0, 8], [0, 15]]
SIZE 16 MB, REAL_BD 23.11 GB/s, time 0.0145 s, comm_vol 335.544 MB
SIZE 64 MB, REAL_BD 24.244 GB/s, time 0.0554 s, comm_vol 1.342 GB
SIZE 256 MB, REAL_BD 24.274 GB/s, time 0.2212 s, comm_vol 5.369 GB
SIZE 1 GB, REAL_BD 24.293 GB/s, time 0.884 s, comm_vol 21.475 GB
[[0, 8], [0, 15], [8, 0], [15, 0]]
SIZE 16 MB, REAL_BD 43.666 GB/s, time 0.0154 s, comm_vol 671.089 MB
SIZE 64 MB, REAL_BD 45.442 GB/s, time 0.0591 s, comm_vol 2.684 GB
SIZE 256 MB, REAL_BD 45.623 GB/s, time 0.2354 s, comm_vol 10.737 GB
SIZE 1 GB, REAL_BD 45.715 GB/s, time 0.9395 s, comm_vol 42.95 GB
[[7, 8], [15, 0]]
SIZE 16 MB, REAL_BD 41.742 GB/s, time 0.008 s, comm_vol 335.544 MB
SIZE 64 MB, REAL_BD 34.016 GB/s, time 0.0395 s, comm_vol 1.342 GB
SIZE 256 MB, REAL_BD 40.696 GB/s, time 0.1319 s, comm_vol 5.369 GB
SIZE 1 GB, REAL_BD 43.959 GB/s, time 0.4885 s, comm_vol 21.475 GB
[[0, 8], [2, 10]]
SIZE 16 MB, REAL_BD 45.592 GB/s, time 0.0074 s, comm_vol 335.544 MB
SIZE 64 MB, REAL_BD 46.529 GB/s, time 0.0288 s, comm_vol 1.342 GB
SIZE 256 MB, REAL_BD 46.851 GB/s, time 0.1146 s, comm_vol 5.369 GB
SIZE 1 GB, REAL_BD 46.386 GB/s, time 0.463 s, comm_vol 21.475 GB
[[0, 8], [8, 0], [2, 10], [10, 2]]
SIZE 16 MB, REAL_BD 77.178 GB/s, time 0.0087 s, comm_vol 671.089 MB
SIZE 64 MB, REAL_BD 80.868 GB/s, time 0.0332 s, comm_vol 2.684 GB
SIZE 256 MB, REAL_BD 82.116 GB/s, time 0.1308 s, comm_vol 10.737 GB
SIZE 1 GB, REAL_BD 82.673 GB/s, time 0.5195 s, comm_vol 42.95 GB
[[0, 8], [4, 12]]
SIZE 16 MB, REAL_BD 44.73 GB/s, time 0.0075 s, comm_vol 335.544 MB
SIZE 64 MB, REAL_BD 46.549 GB/s, time 0.0288 s, comm_vol 1.342 GB
SIZE 256 MB, REAL_BD 46.399 GB/s, time 0.1157 s, comm_vol 5.369 GB
SIZE 1 GB, REAL_BD 46.186 GB/s, time 0.465 s, comm_vol 21.475 GB
[[0, 8], [8, 0], [4, 12], [12, 4]]
SIZE 16 MB, REAL_BD 77.511 GB/s, time 0.0087 s, comm_vol 671.089 MB
SIZE 64 MB, REAL_BD 80.722 GB/s, time 0.0333 s, comm_vol 2.684 GB
SIZE 256 MB, REAL_BD 82.758 GB/s, time 0.1297 s, comm_vol 10.737 GB
SIZE 1 GB, REAL_BD 83.088 GB/s, time 0.5169 s, comm_vol 42.95 GB
[[0, 8], [2, 10], [4, 12], [6, 14]]
SIZE 16 MB, REAL_BD 86.835 GB/s, time 0.0077 s, comm_vol 671.089 MB
SIZE 64 MB, REAL_BD 92.096 GB/s, time 0.0291 s, comm_vol 2.684 GB
SIZE 256 MB, REAL_BD 93.464 GB/s, time 0.1149 s, comm_vol 10.737 GB
SIZE 1 GB, REAL_BD 92.598 GB/s, time 0.4638 s, comm_vol 42.95 GB
[[0, 8], [8, 0], [2, 10], [10, 2], [4, 12], [12, 4], [6, 14], [14, 6]]
SIZE 16 MB, REAL_BD 133.28 GB/s, time 0.0101 s, comm_vol 1.342 GB
SIZE 64 MB, REAL_BD 139.079 GB/s, time 0.0386 s, comm_vol 5.369 GB
SIZE 256 MB, REAL_BD 147.478 GB/s, time 0.1456 s, comm_vol 21.475 GB
SIZE 1 GB, REAL_BD 165.637 GB/s, time 0.5186 s, comm_vol 85.899 GB
[[0, 8], [1, 9], [2, 10], [3, 11], [4, 12], [5, 13], [6, 14], [7, 15]]
SIZE 16 MB, REAL_BD 94.065 GB/s, time 0.0143 s, comm_vol 1.342 GB
SIZE 64 MB, REAL_BD 96.551 GB/s, time 0.0556 s, comm_vol 5.369 GB
SIZE 256 MB, REAL_BD 96.048 GB/s, time 0.2236 s, comm_vol 21.475 GB
SIZE 1 GB, REAL_BD 97.278 GB/s, time 0.883 s, comm_vol 85.899 GB
[[0, 8], [1, 9], [2, 10], [3, 11], [4, 12], [5, 13], [6, 14], [7, 15], [8, 0], [9, 1], [10, 2], [11, 3], [12, 4], [13, 5], [14, 6], [15, 7]]
SIZE 16 MB, REAL_BD 169.517 GB/s, time 0.0158 s, comm_vol 2.684 GB
SIZE 64 MB, REAL_BD 180.566 GB/s, time 0.0595 s, comm_vol 10.737 GB
SIZE 256 MB, REAL_BD 183.25 GB/s, time 0.2344 s, comm_vol 42.95 GB
SIZE 1 GB, REAL_BD 189.588 GB/s, time 0.9062 s, comm_vol 171.799 GB
+ set +x
