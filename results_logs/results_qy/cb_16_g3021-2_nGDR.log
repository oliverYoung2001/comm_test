HOST: g4005
CP_FILE_NAME: small
HOST: g4005
CUDA_VISIBLE_DEVICES: 
GPU_NUM: 8
PROC_NUM: 8
NNODES: 1
NTASK_PER_NODE: 8
MASTER_ADDR: g3021
+++ which mpirun
++ dirname /home/zhaijidong/yhy/.local/openmpi-cuda-ucx-gdrcopy/bin/mpirun
+ mpirun --prefix /home/zhaijidong/yhy/.local/openmpi-cuda-ucx-gdrcopy/bin/../ -x MASTER_ADDR -x MASTER_PORT -x PATH -x LD_LIBRARY_PATH -x NCCL_DEBUG -x NCCL_NET_GDR_LEVEL -x NCCL_DEBUG_SUBSYS -x NCCL_IB_DISABLE -np 16 --host g3021:8,g3022:8 --map-by ppr:4:numa --bind-to core --report-bindings python conflict_bench.py --backend NCCL --config ./scripts/configs/small_16.json
NCCL version 2.18.6+cuda11.8
[INFO]: Cluster init done !!!
[[0, 1]]
SIZE 16 MB, REAL_BD 179.169 GB/s, time 0.0019 s, comm_vol 335.544 MB
SIZE 64 MB, REAL_BD 217.818 GB/s, time 0.0062 s, comm_vol 1.342 GB
SIZE 256 MB, REAL_BD 246.637 GB/s, time 0.0218 s, comm_vol 5.369 GB
SIZE 1 GB, REAL_BD 254.609 GB/s, time 0.0843 s, comm_vol 21.475 GB
[[0, 1], [1, 0]]
SIZE 16 MB, REAL_BD 257.29 GB/s, time 0.0026 s, comm_vol 671.089 MB
SIZE 64 MB, REAL_BD 327.097 GB/s, time 0.0082 s, comm_vol 2.684 GB
SIZE 256 MB, REAL_BD 358.561 GB/s, time 0.0299 s, comm_vol 10.737 GB
SIZE 1 GB, REAL_BD 457.17 GB/s, time 0.0939 s, comm_vol 42.95 GB
[[0, 8]]
SIZE 16 MB, REAL_BD 11.048 GB/s, time 0.0304 s, comm_vol 335.544 MB
SIZE 64 MB, REAL_BD 13.082 GB/s, time 0.1026 s, comm_vol 1.342 GB
SIZE 256 MB, REAL_BD 13.938 GB/s, time 0.3852 s, comm_vol 5.369 GB
SIZE 1 GB, REAL_BD 13.805 GB/s, time 1.5556 s, comm_vol 21.475 GB
[[0, 8], [8, 0]]
SIZE 16 MB, REAL_BD 19.048 GB/s, time 0.0352 s, comm_vol 671.089 MB
SIZE 64 MB, REAL_BD 19.258 GB/s, time 0.1394 s, comm_vol 2.684 GB
SIZE 256 MB, REAL_BD 18.647 GB/s, time 0.5758 s, comm_vol 10.737 GB
SIZE 1 GB, REAL_BD 18.679 GB/s, time 2.2994 s, comm_vol 42.95 GB
[[0, 15], [15, 0]]
SIZE 16 MB, REAL_BD 16.016 GB/s, time 0.0419 s, comm_vol 671.089 MB
SIZE 64 MB, REAL_BD 20.546 GB/s, time 0.1306 s, comm_vol 2.684 GB
SIZE 256 MB, REAL_BD 18.139 GB/s, time 0.592 s, comm_vol 10.737 GB
SIZE 1 GB, REAL_BD 18.431 GB/s, time 2.3303 s, comm_vol 42.95 GB
[[0, 8], [0, 15]]
SIZE 16 MB, REAL_BD 22.242 GB/s, time 0.0302 s, comm_vol 671.089 MB
SIZE 64 MB, REAL_BD 18.763 GB/s, time 0.1431 s, comm_vol 2.684 GB
SIZE 256 MB, REAL_BD 20.345 GB/s, time 0.5278 s, comm_vol 10.737 GB
SIZE 1 GB, REAL_BD 20.252 GB/s, time 2.1207 s, comm_vol 42.95 GB
[[0, 8], [0, 15], [8, 0], [15, 0]]
SIZE 16 MB, REAL_BD 22.705 GB/s, time 0.0591 s, comm_vol 1.342 GB
SIZE 64 MB, REAL_BD 22.831 GB/s, time 0.2351 s, comm_vol 5.369 GB
SIZE 256 MB, REAL_BD 23.224 GB/s, time 0.9247 s, comm_vol 21.475 GB
SIZE 1 GB, REAL_BD 23.206 GB/s, time 3.7016 s, comm_vol 85.899 GB
[[7, 8], [15, 0]]
SIZE 16 MB, REAL_BD 21.808 GB/s, time 0.0308 s, comm_vol 671.089 MB
SIZE 64 MB, REAL_BD 24.701 GB/s, time 0.1087 s, comm_vol 2.684 GB
SIZE 256 MB, REAL_BD 27.685 GB/s, time 0.3878 s, comm_vol 10.737 GB
SIZE 1 GB, REAL_BD 28.233 GB/s, time 1.5213 s, comm_vol 42.95 GB
[[0, 8], [2, 10]]
SIZE 16 MB, REAL_BD 22.45 GB/s, time 0.0299 s, comm_vol 671.089 MB
SIZE 64 MB, REAL_BD 15.891 GB/s, time 0.1689 s, comm_vol 2.684 GB
SIZE 256 MB, REAL_BD 17.67 GB/s, time 0.6077 s, comm_vol 10.737 GB
SIZE 1 GB, REAL_BD 17.064 GB/s, time 2.5169 s, comm_vol 42.95 GB
[[0, 8], [8, 0], [2, 10], [10, 2]]
SIZE 16 MB, REAL_BD 26.385 GB/s, time 0.0509 s, comm_vol 1.342 GB
SIZE 64 MB, REAL_BD 22.411 GB/s, time 0.2396 s, comm_vol 5.369 GB
SIZE 256 MB, REAL_BD 23.731 GB/s, time 0.9049 s, comm_vol 21.475 GB
SIZE 1 GB, REAL_BD 24.221 GB/s, time 3.5465 s, comm_vol 85.899 GB
[[0, 8], [4, 12]]
SIZE 16 MB, REAL_BD 23.001 GB/s, time 0.0292 s, comm_vol 671.089 MB
SIZE 64 MB, REAL_BD 21.689 GB/s, time 0.1238 s, comm_vol 2.684 GB
SIZE 256 MB, REAL_BD 29.617 GB/s, time 0.3625 s, comm_vol 10.737 GB
SIZE 1 GB, REAL_BD 26.902 GB/s, time 1.5965 s, comm_vol 42.95 GB
[[0, 8], [8, 0], [4, 12], [12, 4]]
SIZE 16 MB, REAL_BD 40.686 GB/s, time 0.033 s, comm_vol 1.342 GB
SIZE 64 MB, REAL_BD 31.112 GB/s, time 0.1726 s, comm_vol 5.369 GB
SIZE 256 MB, REAL_BD 37.411 GB/s, time 0.574 s, comm_vol 21.475 GB
SIZE 1 GB, REAL_BD 36.545 GB/s, time 2.3505 s, comm_vol 85.899 GB
[[0, 8], [2, 10], [4, 12], [6, 14]]
SIZE 16 MB, REAL_BD 29.885 GB/s, time 0.0449 s, comm_vol 1.342 GB
SIZE 64 MB, REAL_BD 33.561 GB/s, time 0.16 s, comm_vol 5.369 GB
SIZE 256 MB, REAL_BD 33.106 GB/s, time 0.6487 s, comm_vol 21.475 GB
SIZE 1 GB, REAL_BD 34.186 GB/s, time 2.5127 s, comm_vol 85.899 GB
[[0, 8], [8, 0], [2, 10], [10, 2], [4, 12], [12, 4], [6, 14], [14, 6]]
SIZE 16 MB, REAL_BD 44.013 GB/s, time 0.061 s, comm_vol 2.684 GB
SIZE 64 MB, REAL_BD 52.539 GB/s, time 0.2044 s, comm_vol 10.737 GB
SIZE 256 MB, REAL_BD 50.631 GB/s, time 0.8483 s, comm_vol 42.95 GB
SIZE 1 GB, REAL_BD 48.052 GB/s, time 3.5753 s, comm_vol 171.799 GB
[[0, 8], [1, 9], [2, 10], [3, 11], [4, 12], [5, 13], [6, 14], [7, 15]]
SIZE 16 MB, REAL_BD 55.451 GB/s, time 0.0484 s, comm_vol 2.684 GB
SIZE 64 MB, REAL_BD 68.66 GB/s, time 0.1564 s, comm_vol 10.737 GB
SIZE 256 MB, REAL_BD 59.589 GB/s, time 0.7208 s, comm_vol 42.95 GB
SIZE 1 GB, REAL_BD 59.557 GB/s, time 2.8846 s, comm_vol 171.799 GB
[[0, 8], [1, 9], [2, 10], [3, 11], [4, 12], [5, 13], [6, 14], [7, 15], [8, 0], [9, 1], [10, 2], [11, 3], [12, 4], [13, 5], [14, 6], [15, 7]]
SIZE 16 MB, REAL_BD 70.537 GB/s, time 0.0761 s, comm_vol 5.369 GB
SIZE 64 MB, REAL_BD 76.885 GB/s, time 0.2793 s, comm_vol 21.475 GB
SIZE 256 MB, REAL_BD 75.641 GB/s, time 1.1356 s, comm_vol 85.899 GB
SIZE 1 GB, REAL_BD 74.854 GB/s, time 4.5902 s, comm_vol 343.597 GB
+ set +x
