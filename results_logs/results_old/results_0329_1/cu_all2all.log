make -C csrc clean
make[1]: Entering directory '/home/yhy/fold/comm_test/csrc'
rm all2all_test
rm `ls *.o | grep -v jsoncpp.o`
make[1]: Leaving directory '/home/yhy/fold/comm_test/csrc'
make -C csrc
make[1]: Entering directory '/home/yhy/fold/comm_test/csrc'
nvcc all2all_test.cu -std=c++11 -Xcompiler -fopenmp -I/home/yhy/.local/nccl/build/include -L/home/yhy/.local/nccl/build/lib/ "-gencode=arch=compute_80,code=sm_80" -lnccl -lcudart -c -o all2all_test.o
nvcc comm.cu -std=c++11 -Xcompiler -fopenmp -I/home/yhy/.local/nccl/build/include -L/home/yhy/.local/nccl/build/lib/ "-gencode=arch=compute_80,code=sm_80" -lnccl -lcudart -c -o comm.o
"`which mpicxx`" all2all_test.o comm.o jsoncpp.o -std=c++11 -fopenmp -L/home/yhy/.local/nccl/build/lib -lcudart -lnccl -Wall -o all2all_test -Wl,-rpath=/home/yhy/.local/nccl/build/lib
make[1]: Leaving directory '/home/yhy/fold/comm_test/csrc'
GPU_NUM: 4
CUDA_VISIBLE_DEVICES: 
srun: error: Required nodelist includes more nodes than permitted by max-node count (2 > 1). Eliminating nodes from the nodelist.
SC1: 0.119037 s, REAL_BD 3.937851 GB/s, SIZE 0.125000 GB, comm_vol 0.468750 GB
SC1: 0.234019 s, REAL_BD 4.006085 GB/s, SIZE 0.250000 GB, comm_vol 0.937500 GB
SC1: 0.465017 s, REAL_BD 4.032111 GB/s, SIZE 0.500000 GB, comm_vol 1.875000 GB
SC1: 0.926547 s, REAL_BD 4.047285 GB/s, SIZE 1.000000 GB, comm_vol 3.750000 GB
SC1: 1.851430 s, REAL_BD 4.050923 GB/s, SIZE 2.000000 GB, comm_vol 7.500000 GB
