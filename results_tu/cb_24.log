HOST: g3017
CP_FILE_NAME: small
HOST: g3017
CUDA_VISIBLE_DEVICES: 
GPU_NUM: 8
PROC_NUM: 8
NNODES: 1
NTASK_PER_NODE: 8
COMM_MODULE: raw-nccl
MASTER_ADDR: feng-wang-qcsleep2-worker-0
MASTER_PORT: 17405
+ mpirun --allow-run-as-root --prefix /usr/local/bin/../ -x MASTER_ADDR -x MASTER_PORT -x LD_LIBRARY_PATH -x PATH -x TRACE_NAME -x NCCL_DEBUG -x NCCL_NET_GDR_LEVEL -x NCCL_DEBUG_SUBSYS -x NCCL_IB_DISABLE -x NCCL_SOCKET_IFNAME -x NCCL_IB_GID_INDEX --map-by ppr:4:numa --bind-to core --report-bindings -np 24 --host feng-wang-qcsleep2-worker-0:8,feng-wang-qcsleep2-worker-1:8,feng-wang-qcsleep2-worker-2:8 python conflict_bench.py --backend NCCL --config ./scripts/configs/small_24.json --comm-module raw-nccl
NCCL version 2.18.1+cuda12.1
[INFO]: Cluster init done !!!
[[0, 8]]
SIZE 16 MB, REAL_BD 22.688 GB/s, BD/PAIR 22.688 GB/s, time 7.395e-02 s, time/iter 7.395e-04, comm_vol 1.678 GB
SIZE 64 MB, REAL_BD 22.922 GB/s, BD/PAIR 22.922 GB/s, time 2.928e-01 s, time/iter 2.928e-03, comm_vol 6.711 GB
SIZE 256 MB, REAL_BD 22.961 GB/s, BD/PAIR 22.961 GB/s, time 1.169e+00 s, time/iter 1.169e-02, comm_vol 26.844 GB
SIZE 1 GB, REAL_BD 22.929 GB/s, BD/PAIR 22.929 GB/s, time 4.683e+00 s, time/iter 4.683e-02, comm_vol 107.374 GB
[[0, 8], [8, 16]]
NCCL version 2.18.1+cuda12.1
SIZE 16 MB, REAL_BD 42.05 GB/s, BD/PAIR 21.025 GB/s, time 7.980e-02 s, time/iter 7.980e-04, comm_vol 3.355 GB
SIZE 64 MB, REAL_BD 35.505 GB/s, BD/PAIR 17.752 GB/s, time 3.780e-01 s, time/iter 3.780e-03, comm_vol 13.422 GB
SIZE 256 MB, REAL_BD 37.544 GB/s, BD/PAIR 18.772 GB/s, time 1.430e+00 s, time/iter 1.430e-02, comm_vol 53.687 GB
SIZE 1 GB, REAL_BD 36.38 GB/s, BD/PAIR 18.19 GB/s, time 5.903e+00 s, time/iter 5.903e-02, comm_vol 214.748 GB
[[0, 8], [8, 16], [16, 0]]
SIZE 16 MB, REAL_BD 43.793 GB/s, BD/PAIR 14.598 GB/s, time 1.149e-01 s, time/iter 1.149e-03, comm_vol 5.033 GB
SIZE 64 MB, REAL_BD 42.271 GB/s, BD/PAIR 14.09 GB/s, time 4.763e-01 s, time/iter 4.763e-03, comm_vol 20.133 GB
SIZE 256 MB, REAL_BD 42.143 GB/s, BD/PAIR 14.048 GB/s, time 1.911e+00 s, time/iter 1.911e-02, comm_vol 80.531 GB
SIZE 1 GB, REAL_BD 45.001 GB/s, BD/PAIR 15.0 GB/s, time 7.158e+00 s, time/iter 7.158e-02, comm_vol 322.123 GB
[[0, 8], [8, 16], [16, 0], [2, 10], [10, 18], [18, 2]]
NCCL version 2.18.1+cuda12.1
NCCL version 2.18.1+cuda12.1
SIZE 16 MB, REAL_BD 72.231 GB/s, BD/PAIR 12.039 GB/s, time 1.394e-01 s, time/iter 1.394e-03, comm_vol 10.066 GB
SIZE 64 MB, REAL_BD 91.76 GB/s, BD/PAIR 15.293 GB/s, time 4.388e-01 s, time/iter 4.388e-03, comm_vol 40.265 GB
SIZE 256 MB, REAL_BD 83.509 GB/s, BD/PAIR 13.918 GB/s, time 1.929e+00 s, time/iter 1.929e-02, comm_vol 161.061 GB
SIZE 1 GB, REAL_BD 90.933 GB/s, BD/PAIR 15.155 GB/s, time 7.085e+00 s, time/iter 7.085e-02, comm_vol 644.245 GB
[[0, 8], [8, 16], [16, 0], [4, 12], [12, 20], [20, 4]]
NCCL version 2.18.1+cuda12.1
NCCL version 2.18.1+cuda12.1
SIZE 16 MB, REAL_BD 68.223 GB/s, BD/PAIR 11.37 GB/s, time 1.476e-01 s, time/iter 1.476e-03, comm_vol 10.066 GB
SIZE 64 MB, REAL_BD 93.005 GB/s, BD/PAIR 15.501 GB/s, time 4.329e-01 s, time/iter 4.329e-03, comm_vol 40.265 GB
SIZE 256 MB, REAL_BD 88.441 GB/s, BD/PAIR 14.74 GB/s, time 1.821e+00 s, time/iter 1.821e-02, comm_vol 161.061 GB
SIZE 1 GB, REAL_BD 88.981 GB/s, BD/PAIR 14.83 GB/s, time 7.240e+00 s, time/iter 7.240e-02, comm_vol 644.245 GB
[[0, 8], [8, 16], [16, 0], [2, 10], [10, 18], [18, 2], [4, 12], [12, 20], [20, 4], [6, 14], [14, 22], [22, 6]]
NCCL version 2.18.1+cuda12.1
NCCL version 2.18.1+cuda12.1
SIZE 16 MB, REAL_BD 140.13 GB/s, BD/PAIR 11.677 GB/s, time 1.437e-01 s, time/iter 1.437e-03, comm_vol 20.133 GB
SIZE 64 MB, REAL_BD 179.123 GB/s, BD/PAIR 14.927 GB/s, time 4.496e-01 s, time/iter 4.496e-03, comm_vol 80.531 GB
SIZE 256 MB, REAL_BD 171.948 GB/s, BD/PAIR 14.329 GB/s, time 1.873e+00 s, time/iter 1.873e-02, comm_vol 322.123 GB
SIZE 1 GB, REAL_BD 172.135 GB/s, BD/PAIR 14.345 GB/s, time 7.485e+00 s, time/iter 7.485e-02, comm_vol 1.288 TB
[[0, 8], [8, 16], [16, 0], [2, 10], [10, 18], [18, 2], [4, 12], [12, 20], [20, 4], [6, 14], [14, 22], [22, 6], [1, 9], [9, 17], [17, 1], [3, 11], [11, 19], [19, 3], [5, 13], [13, 21], [21, 5], [7, 15], [15, 23], [23, 7]]
NCCL version 2.18.1+cuda12.1
NCCL version 2.18.1+cuda12.1
NCCL version 2.18.1+cuda12.1
NCCL version 2.18.1+cuda12.1
NCCL version 2.18.1+cuda12.1
NCCL version 2.18.1+cuda12.1
NCCL version 2.18.1+cuda12.1
NCCL version 2.18.1+cuda12.1
SIZE 16 MB, REAL_BD 230.883 GB/s, BD/PAIR 9.62 GB/s, time 1.744e-01 s, time/iter 1.744e-03, comm_vol 40.265 GB
SIZE 64 MB, REAL_BD 233.878 GB/s, BD/PAIR 9.745 GB/s, time 6.887e-01 s, time/iter 6.887e-03, comm_vol 161.061 GB
SIZE 256 MB, REAL_BD 241.845 GB/s, BD/PAIR 10.077 GB/s, time 2.664e+00 s, time/iter 2.664e-02, comm_vol 644.245 GB
SIZE 1 GB, REAL_BD 243.8 GB/s, BD/PAIR 10.158 GB/s, time 1.057e+01 s, time/iter 1.057e-01, comm_vol 2.577 TB

HOST: g3017
CP_FILE_NAME: small
HOST: g3017
CUDA_VISIBLE_DEVICES: 
GPU_NUM: 8
PROC_NUM: 8
NNODES: 1
NTASK_PER_NODE: 8
COMM_MODULE: torch-distributed
MASTER_ADDR: feng-wang-qcsleep2-worker-0
MASTER_PORT: 10212
+ mpirun --allow-run-as-root --prefix /usr/local/bin/../ -x MASTER_ADDR -x MASTER_PORT -x LD_LIBRARY_PATH -x PATH -x TRACE_NAME -x NCCL_DEBUG -x NCCL_NET_GDR_LEVEL -x NCCL_DEBUG_SUBSYS -x NCCL_IB_DISABLE -x NCCL_SOCKET_IFNAME -x NCCL_IB_GID_INDEX --map-by ppr:4:numa --bind-to core --report-bindings -np 24 --host feng-wang-qcsleep2-worker-0:8,feng-wang-qcsleep2-worker-1:8,feng-wang-qcsleep2-worker-2:8 python conflict_bench.py --backend NCCL --config ./scripts/configs/small_24.json --comm-module torch-distributed
NCCL version 2.18.1+cuda12.1
[INFO]: Cluster init done !!!
[[0, 8]]
SIZE 16 MB, REAL_BD 23.012 GB/s, BD/PAIR 23.012 GB/s, time 7.291e-02 s, time/iter 7.291e-04, comm_vol 1.678 GB
SIZE 64 MB, REAL_BD 22.943 GB/s, BD/PAIR 22.943 GB/s, time 2.925e-01 s, time/iter 2.925e-03, comm_vol 6.711 GB
SIZE 256 MB, REAL_BD 22.988 GB/s, BD/PAIR 22.988 GB/s, time 1.168e+00 s, time/iter 1.168e-02, comm_vol 26.844 GB
SIZE 1 GB, REAL_BD 23.019 GB/s, BD/PAIR 23.019 GB/s, time 4.665e+00 s, time/iter 4.665e-02, comm_vol 107.374 GB
[[0, 8], [8, 16]]
NCCL version 2.18.1+cuda12.1
SIZE 16 MB, REAL_BD 38.551 GB/s, BD/PAIR 19.276 GB/s, time 8.704e-02 s, time/iter 8.704e-04, comm_vol 3.355 GB
SIZE 64 MB, REAL_BD 30.121 GB/s, BD/PAIR 15.061 GB/s, time 4.456e-01 s, time/iter 4.456e-03, comm_vol 13.422 GB
SIZE 256 MB, REAL_BD 32.249 GB/s, BD/PAIR 16.124 GB/s, time 1.665e+00 s, time/iter 1.665e-02, comm_vol 53.687 GB
SIZE 1 GB, REAL_BD 32.384 GB/s, BD/PAIR 16.192 GB/s, time 6.631e+00 s, time/iter 6.631e-02, comm_vol 214.748 GB
[[0, 8], [8, 16], [16, 0]]
SIZE 16 MB, REAL_BD 28.763 GB/s, BD/PAIR 9.588 GB/s, time 1.750e-01 s, time/iter 1.750e-03, comm_vol 5.033 GB
SIZE 64 MB, REAL_BD 23.717 GB/s, BD/PAIR 7.906 GB/s, time 8.489e-01 s, time/iter 8.489e-03, comm_vol 20.133 GB
SIZE 256 MB, REAL_BD 32.661 GB/s, BD/PAIR 10.887 GB/s, time 2.466e+00 s, time/iter 2.466e-02, comm_vol 80.531 GB
SIZE 1 GB, REAL_BD 31.051 GB/s, BD/PAIR 10.35 GB/s, time 1.037e+01 s, time/iter 1.037e-01, comm_vol 322.123 GB
[[0, 8], [8, 16], [16, 0], [2, 10], [10, 18], [18, 2]]
NCCL version 2.18.1+cuda12.1
NCCL version 2.18.1+cuda12.1
SIZE 16 MB, REAL_BD 48.576 GB/s, BD/PAIR 8.096 GB/s, time 2.072e-01 s, time/iter 2.072e-03, comm_vol 10.066 GB
SIZE 64 MB, REAL_BD 44.508 GB/s, BD/PAIR 7.418 GB/s, time 9.047e-01 s, time/iter 9.047e-03, comm_vol 40.265 GB
SIZE 256 MB, REAL_BD 56.357 GB/s, BD/PAIR 9.393 GB/s, time 2.858e+00 s, time/iter 2.858e-02, comm_vol 161.061 GB
SIZE 1 GB, REAL_BD 61.263 GB/s, BD/PAIR 10.21 GB/s, time 1.052e+01 s, time/iter 1.052e-01, comm_vol 644.245 GB
[[0, 8], [8, 16], [16, 0], [4, 12], [12, 20], [20, 4]]
NCCL version 2.18.1+cuda12.1
NCCL version 2.18.1+cuda12.1
SIZE 16 MB, REAL_BD 40.056 GB/s, BD/PAIR 6.676 GB/s, time 2.513e-01 s, time/iter 2.513e-03, comm_vol 10.066 GB
SIZE 64 MB, REAL_BD 59.793 GB/s, BD/PAIR 9.966 GB/s, time 6.734e-01 s, time/iter 6.734e-03, comm_vol 40.265 GB
SIZE 256 MB, REAL_BD 60.611 GB/s, BD/PAIR 10.102 GB/s, time 2.657e+00 s, time/iter 2.657e-02, comm_vol 161.061 GB
SIZE 1 GB, REAL_BD 58.574 GB/s, BD/PAIR 9.762 GB/s, time 1.100e+01 s, time/iter 1.100e-01, comm_vol 644.245 GB
[[0, 8], [8, 16], [16, 0], [2, 10], [10, 18], [18, 2], [4, 12], [12, 20], [20, 4], [6, 14], [14, 22], [22, 6]]
NCCL version 2.18.1+cuda12.1
NCCL version 2.18.1+cuda12.1
SIZE 16 MB, REAL_BD 75.551 GB/s, BD/PAIR 6.296 GB/s, time 2.665e-01 s, time/iter 2.665e-03, comm_vol 20.133 GB
SIZE 64 MB, REAL_BD 84.886 GB/s, BD/PAIR 7.074 GB/s, time 9.487e-01 s, time/iter 9.487e-03, comm_vol 80.531 GB
SIZE 256 MB, REAL_BD 115.456 GB/s, BD/PAIR 9.621 GB/s, time 2.790e+00 s, time/iter 2.790e-02, comm_vol 322.123 GB
SIZE 1 GB, REAL_BD 122.427 GB/s, BD/PAIR 10.202 GB/s, time 1.052e+01 s, time/iter 1.052e-01, comm_vol 1.288 TB
[[0, 8], [8, 16], [16, 0], [2, 10], [10, 18], [18, 2], [4, 12], [12, 20], [20, 4], [6, 14], [14, 22], [22, 6], [1, 9], [9, 17], [17, 1], [3, 11], [11, 19], [19, 3], [5, 13], [13, 21], [21, 5], [7, 15], [15, 23], [23, 7]]
NCCL version 2.18.1+cuda12.1
NCCL version 2.18.1+cuda12.1
NCCL version 2.18.1+cuda12.1
NCCL version 2.18.1+cuda12.1
NCCL version 2.18.1+cuda12.1
NCCL version 2.18.1+cuda12.1
NCCL version 2.18.1+cuda12.1
NCCL version 2.18.1+cuda12.1
SIZE 16 MB, REAL_BD 135.008 GB/s, BD/PAIR 5.625 GB/s, time 2.982e-01 s, time/iter 2.982e-03, comm_vol 40.265 GB
SIZE 64 MB, REAL_BD 179.393 GB/s, BD/PAIR 7.475 GB/s, time 8.978e-01 s, time/iter 8.978e-03, comm_vol 161.061 GB
SIZE 256 MB, REAL_BD 180.2 GB/s, BD/PAIR 7.508 GB/s, time 3.575e+00 s, time/iter 3.575e-02, comm_vol 644.245 GB
SIZE 1 GB, REAL_BD 191.114 GB/s, BD/PAIR 7.963 GB/s, time 1.348e+01 s, time/iter 1.348e-01, comm_vol 2.577 TB
+ e
./scripts/wrapper_conflict_bench_tu.sh: line 278: e: command not found
